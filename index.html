<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>4x4 Sudoku Game</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: #f0f0f0;
      margin: 0;
      padding: 0;
    }

    h1 {
      color: #f06666;
    }

    .sudoku-container {
      margin: 20px auto;
      background-color: #fff;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      max-width: 300px;
    }

    .sudoku-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 5px;
      width: 200px;
      margin: 0 auto 20px;
    }

    input {
      width: 40px;
      height: 40px;
      text-align: center;
      font-size: 1.7em;

      border: 2px solid #afafaf;
      border-radius: 5px;
    }

    input:hover {
      border: 2px solid #f59f9f;
    }

    input[type="text"] {
      -moz-appearance: textfield;
    }

    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    button {
      margin: 10px;
      padding: 5px 10px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .btn-outline-success {
      background-color: #28a745;
      color: #fff;
    }

    .btn-outline-primary {
      background-color: #007bff;
      color: #fff;
      position: relative;
      left: 20px;
    }

    .btn-outline-secondary {
      background-color: #6c757d;
      color: #fff;
      position: relative;
      left: 70px;
      margin-top: 20px;
    }
  </style>

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</head>

<body>
  <div class="sudoku-container">
    <div>
      <h1> Sudoku Game </h1>
    </div>
    <div class="sudoku-grid"></div> <!-- sudoku boxes shoe grid method -->
    <button class="btn btn-outline-success" id="new-game-btn">New Sudoku</button>
    <button class="btn btn-outline-primary" id="check-btn">Check Answer</button>
    <button class="btn btn-outline-secondary" id="show-answer-btn">Show Answer</button>
  </div>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    $(document).ready(function () {

      let sudoku = [
        [1, 2, 3, 4],     //Generate Random sudoku Combinations
        [3, 4, 1, 2],
        [2, 3, 4, 1],
        [4, 1, 2, 3]
      ];
      createSudoku();
      function createSudoku() {                   //it can Create Boxes on sudoku
        $('.sudoku-grid').empty();
        for (let i = 0; i < 4; i++) {
          for (let j = 0; j < 4; j++) {
            let input = $('<input>').attr('type', 'number').attr('maxlength', '1').attr('min', '1').attr('max', '4');
            if (Math.random() < 0.5) {
              input.val(sudoku[i][j]).prop('readonly', true);
            }
            $('.sudoku-grid').append(input);
          }
        }
      }

      $('#new-game-btn').click(function () {
        createSudoku();
      });

      $('#check-btn').click(function () {
        let userSolution = [];
        $('.sudoku-grid input').each(function () {
          userSolution.push(parseInt($(this).val()) || 0);
        });

        let isCorrect = true;
        for (let i = 0; i < 16; i++) {
          if (!$(`.sudoku-grid input:eq(${i})`).prop('readonly') && userSolution[i] !== sudoku[Math.floor(i / 4)][i % 4]) {
            isCorrect = false;
            break;
          }
        }

        if (isCorrect) {
          alert('Congratulations! Your solution is correct.');
        } else {
          alert('Oops! Your solution is incorrect. Please try again.');
        }
      });

      $('#show-answer-btn').click(function () {
        $('.sudoku-grid input').each(function (index) {
          $(this).val(sudoku[Math.floor(index / 4)][index % 4]);
        });
      });
    });
  </script>
</body>

</html>